(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{C4pj:function(e,n,a){"use strict";a.r(n),a.d(n,"_frontmatter",(function(){return d})),a.d(n,"default",(function(){return s}));var t=a("Fcif"),r=a("+I+c"),l=(a("mXGw"),a("/FXl")),c=a("TjRS"),d=(a("aD51"),{});void 0!==d&&d&&d===Object(d)&&Object.isExtensible(d)&&!d.hasOwnProperty("__filemeta")&&Object.defineProperty(d,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/Handlers/6.deletekeyhandler.mdx"}});var o={_frontmatter:d},i=c.a;function s(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(l.b)(i,Object(t.a)({},o,a,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"delete-key-handler"},"Delete Key Handler"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{}),"  Note:\n  - Delete Key handler is slightly different from Delete handler, but it will delete only particular key in an object or an array of object\n")),Object(l.b)("h2",{id:"-delete-key-handler-without-filter"},"# Delete Key Handler without filter"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript",metastring:"{.line-numbers}","{.line-numbers}":!0}),'import { HOC, commonConstants, store } from "react-boilerplate-redux-saga-hoc";\n\nconst { ON_SUCCESS } = commonConstants;\nconst { DEMO_API_CONFIGURATION_CUSTOM_TASK } = props;\n\nDEMO_API_CONFIGURATION_CUSTOM_TASK(ON_SUCCESS, {\n  task: {\n    name: "Delete-Key-Handler",\n    id: [1, 2],\n    key: "id",\n    deleteKey: ["age"],\n  },\n});\n')),Object(l.b)("h2",{id:"-delete-key-handler-with-filter"},"# Delete Key Handler with filter"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript",metastring:"{.line-numbers}","{.line-numbers}":!0}),'import { HOC, commonConstants, store } from "react-boilerplate-redux-saga-hoc";\n\nconst { ON_SUCCESS } = commonConstants;\nconst { DEMO_API_CONFIGURATION_CUSTOM_TASK } = props;\n\nDEMO_API_CONFIGURATION_CUSTOM_TASK(ON_SUCCESS, {\n  task: {\n    name: "Delete-Key-Handler",\n    id: [1, 2],\n    key: "id",\n    deleteKey: ["age"],\n  },\n  filter: ["name"],\n});\n')),Object(l.b)("h2",{id:"-delete-key-handler-with-multi-filter"},"# Delete Key Handler with Multi-filter"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript",metastring:"{.line-numbers}","{.line-numbers}":!0}),'import { HOC, commonConstants, store } from "react-boilerplate-redux-saga-hoc";\n\nconst { ON_SUCCESS } = commonConstants;\nconst { DEMO_API_CONFIGURATION_CUSTOM_TASK } = props;\n\nDEMO_API_CONFIGURATION_CUSTOM_TASK(ON_SUCCESS, {\n  task: {\n    name: "Delete-Key-Handler",\n    id: [1, 2],\n    key: "id",\n    deleteKey: ["age"],\n  },\n  filter: [["filter-1"], ["filter-2"], ["filter-2"]],\n});\n')),Object(l.b)("h2",{id:"-delete-key-handler-with-subkey"},"# Delete Key Handler with Subkey"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{}),"Note:\n- sub key for handling sub level of data in an object\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript",metastring:"{.line-numbers}","{.line-numbers}":!0}),'import { HOC, commonConstants, store } from "react-boilerplate-redux-saga-hoc";\n\nconst { ON_SUCCESS } = commonConstants;\nconst { DEMO_API_CONFIGURATION_CUSTOM_TASK } = props;\n\nDEMO_API_CONFIGURATION_CUSTOM_TASK(ON_SUCCESS, {\n  task: {\n    name: "Delete-Key-Handler",\n    subKey: ["data"],\n    id: [1, 2],\n    key: "id",\n    deleteKey: ["age"],\n  },\n  filter: [["filter-1"], ["filter-2"], ["filter-2"]],\n});\n')),Object(l.b)("h2",{id:"-delete-key-handler-function---api"},"# Delete Key Handler Function - Api"),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{})," Important:\n- The code below are the built in handler function.\n- Don't copy and paste this handler, it is already available with this hoc.\n- You will learn how to create your own custom handler in below.\n- If you want to customize this handler you can do it.\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(t.a)({parentName:"pre"},{className:"language-javascript",metastring:"{.line-numbers}","{.line-numbers}":!0}),'import {\n  generateTimeStamp,\n  updateIn,\n  getIn,\n  Safe,\n} from "react-boilerplate-redux-saga-hoc";\n\nconst deletedData = (obj, keyArray) =>\n  Object.keys(obj).reduce(\n    (acc, curr) =>\n      (keyArray.includes(curr) && acc) || { ...acc, [curr]: obj[curr] },\n    {}\n  );\n\nexport const deleteKeyHandler = ({\n  task: { key, id, deleteKey = [], subKey = [] } = {},\n  callback: { updateCallback } = {},\n  successData = {},\n}) => ({ data = {} } = {}) => ({\n  data:\n    subKey.length > 0\n      ? updateIn(\n          {\n            ...data,\n            ...successData,\n            [subKey[0]]: data[subKey[0]],\n          },\n          subKey,\n          (_Data) =>\n            updateCallback\n              ? updateCallback(_Data, successData) || _Data\n              : (!Array.isArray(_Data) && deletedData(_Data, deleteKey)) ||\n                (Array.isArray(id) &&\n                  _Data.reduce(\n                    (acc, curr) =>\n                      id.includes(curr[key])\n                        ? acc.concat([deletedData(curr, deleteKey)])\n                        : acc.concat([curr]),\n                    []\n                  )) ||\n                _Data.map((_data) =>\n                  _data[key] === id ? deletedData(_data, deleteKey) : _data\n                )\n        )\n      : updateCallback\n      ? updateCallback(data, successData) || data\n      : (!Array.isArray(data) && deletedData(data, deleteKey)) ||\n        (Array.isArray(id) &&\n          data.reduce(\n            (acc, curr) =>\n              id.includes(curr[key])\n                ? acc.concat([deletedData(curr, deleteKey)])\n                : acc.concat([curr]),\n            []\n          )) ||\n        data.map((_data) =>\n          _data[key] === id ? deletedData(_data, deleteKey) : _data\n        ),\n  lastUpdated: generateTimeStamp(),\n  isError: false,\n});\n')))}void 0!==s&&s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/Handlers/6.deletekeyhandler.mdx"}}),s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-handlers-6-deletekeyhandler-mdx-9d1c0610a22ffac12c1b.js.map